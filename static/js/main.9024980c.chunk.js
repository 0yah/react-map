(this["webpackJsonpreact-map"]=this["webpackJsonpreact-map"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n(1),i=n.n(a),c=n(7),s=n.n(c),l=(n(17),n(2)),r=(n(18),n(8)),u=n(6),d=n.n(u),g=n(3),j=n(11),p=n.n(j)()("0yah-google-maps"),b={apiKey:null,apiSet:!1,origin:{},destination:{},drawPolygon:!1,drawPolyline:!1,drawCircle:!1,points:[],color:null},O=function(e,t){switch(t.type){case"LOAD_API_KEY":return Object(g.a)(Object(g.a)({},e),{},{apiKey:t.apiKey,apiSet:t.apiSet});case"DRAW_POLYGON":return Object(g.a)(Object(g.a)({},e),{},{drawPolygon:t.status});case"DRAW_POLYLINE":return Object(g.a)(Object(g.a)({},e),{},{drawPolyline:t.status});case"DRAW_CIRCLE":return Object(g.a)(Object(g.a)({},e),{},{drawCircle:t.status});case"LOAD_ORIGIN":return Object(g.a)(Object(g.a)({},e),{},{origin:t.origin});case"LOAD_DESTINATION":return Object(g.a)(Object(g.a)({},e),{},{destination:t.destination});case"LOAD_POINTS":return Object(g.a)(Object(g.a)({},e),{},{points:t.points});default:return e}},h=function(e,t){return{type:"LOAD_API_KEY",apiKey:e,apiSet:t}},f=function(e){return Object(o.jsx)("div",{children:"Fancy loading!"})};var y=Object(r.GoogleApiWrapper)((function(e){return{apiKey:e.apiKey,LoadingContainer:f}}))((function(e){var t=[{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#CCFFFF"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"off"}]}],n=p(O,b),i=Object(l.a)(n,2),c=(i[0],i[1],Object(a.useState)({lat:-1.309776225320763,lng:36.81468703330993})),s=Object(l.a)(c,2),u=s[0],g=(s[1],Object(a.useState)([])),j=Object(l.a)(g,2),h=j[0],f=j[1],y=Object(a.useState)(1),m=Object(l.a)(y,2),v=m[0],x=m[1],w=Object(a.useState)(1),k=Object(l.a)(w,2),C=k[0],P=k[1],D=Object(a.useState)(""),S=Object(l.a)(D,2),I=S[0],T=S[1],A=Object(a.useState)(""),L=Object(l.a)(A,2),N=L[0],K=L[1],M=Object(a.useState)(!1),_=Object(l.a)(M,2),E=_[0],F=_[1],R=Object(a.useState)(!1),W=Object(l.a)(R,2),Y=W[0],G=W[1],z=Object(a.useState)(u),J=Object(l.a)(z,2),B=J[0],U=J[1],V=Object(a.useState)(u),q=Object(l.a)(V,2),H=q[0],Q=q[1],X=Object(a.useState)(),Z=Object(l.a)(X,2),$=Z[0],ee=Z[1],te=function(){var t=new e.google.maps.Polygon({paths:h,strokeColor:I,strokeOpacity:v,strokeWeight:C,fillColor:I,fillOpacity:v,editable:!0,zIndex:5});t.addListener("click",(function(e){console.log(t);for(var n=t.getPath(),o=[],a=0;a<n.getLength();a++){var i=n.getAt(a),c={lat:i.lat(),lng:i.lng()};o.push(c)}console.log(o),f(o)})),t.setMap($)},ne=function(){new e.google.maps.Polyline({path:h,geodesic:!1,strokeColor:I,strokeOpacity:v,strokeWeight:C,fillColor:I,fillOpacity:v,editable:!0}).setMap($)};return Object(o.jsxs)("div",{style:e.style,children:[Object(o.jsxs)(r.Map,{google:e.google,initialCenter:u,zoom:16,disableDefaultUI:!0,className:"map",style:{width:"100%",height:"100%"},onReady:function(e,n){return function(e,n){n.setOptions({styles:t}),ee(n)}(0,n)},onClick:function(e,t,n){var o=h,a=n.latLng,i={lat:a.lat(),lng:a.lng()};console.log(t),o.push(i),f(o),E?te(t):Y&&ne(t)},children:[Object(o.jsx)(r.Marker,{title:"Destination",position:B,draggable:!0,onDragend:function(e){console.log(e)},onClick:function(e,t,n){var o=n.latLng,a={lat:o.lat(),lng:o.lng()};U(a),K("End point has been saved successfully"),console.log(a)}}),Object(o.jsx)(r.Marker,{title:"Origin",draggable:!0,onDragend:function(e){},position:H,onClick:function(e,t,n){var o=n.latLng,a={lat:o.lat(),lng:o.lng()};Q(a),K("Start point has been saved successfully"),console.log(a)}})]}),Object(o.jsx)("div",{className:"messageModal",children:N}),Object(o.jsxs)("div",{className:"coordinates",children:[Object(o.jsx)("span",{className:"title",children:"Coordinates"}),Object(o.jsx)("div",{className:"content",children:h.map((function(e,t){return Object(o.jsx)("span",{children:"{latitude:".concat(e.lat,",longitude:").concat(e.lat,"}")})}))}),Object(o.jsx)("span",{className:"controls",onClick:function(){d()(".coordinates").fadeOut()},children:"Done"})]}),Object(o.jsxs)("div",{className:"controls",children:[Object(o.jsx)("input",{placeholder:"Colour",type:"color",onChange:function(e){console.log(e.target.value),T(e.target.value)}}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{for:"opacity",children:"Opacity:"}),Object(o.jsx)("input",{type:"range",id:"opacity",name:"vol",min:"10",max:"100",onChange:function(e){var t=e.target.value/100;console.log(t),x(t)}})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{for:"stroke",children:"Stroke :"}),Object(o.jsx)("input",{type:"range",id:"stroke",name:"vol",min:"10",max:"1000",onChange:function(e){var t=e.target.value/100;console.log(t),P(t)}})]}),Object(o.jsx)("span",{onClick:function(){h.length>0?d()(".coordinates").css({display:"flex"}):(K("You may draw a polygon/polyine or set a starting point and ending point to find the pathway."),setTimeout((function(){K("")}),1e4))},children:"Show Coordinates"}),Object(o.jsx)("span",{onClick:function(){return H==u?(console.log("Origin has not been set"),K("Drag the marker to the startpoint then click it to save"),void setTimeout((function(){K("")}),1e4)):B==u?(console.log("Destination has not been set"),K("Drag the marker to the endpoint then click it to save"),void setTimeout((function(){K("")}),1e4)):(console.log(e.google.maps.DirectionsService),"".concat(B.lat,",").concat(B.lng),"".concat(H.lat,",").concat(H.lng),void(new e.google.maps.DirectionsService).route({origin:new e.google.maps.LatLng(H.lat,H.lng),destination:new e.google.maps.LatLng(B.lat,B.lng),travelMode:e.google.maps.TravelMode.DRIVING},(function(t,n){if(n===e.google.maps.DirectionsStatus.OK){var o=t.routes[0].legs[0].start_address,a=t.routes[0].legs[0].end_address,i=t.routes[0].legs[0].duration.text,c=t.routes[0].legs[0].distance.text,s=[];t.routes[0].overview_path.map((function(e){var t={lat:e.lat(),lng:e.lng()};s.push(t)})),f(s);var l=new e.google.maps.Polyline({path:s,geodesic:!1,strokeColor:I,strokeOpacity:1,strokeWeight:2,editable:!0});K("It will take ".concat(i," to drive from ").concat(o," to ").concat(a,", The total distance is ").concat(c,".")),setTimeout((function(){K("")}),18e4),l.setMap($)}else K("Could not fetch route"),setTimeout((function(){K("")}),18e3),console.error("error fetching directions ".concat(t))})))},children:"Find Route"}),Object(o.jsx)("span",{onClick:function(){f([]),F(!Y),K("Press two different Points on the map then adjust"),setTimeout((function(){K("")}),1e4)},children:"Draw Polygon"}),Object(o.jsx)("span",{onClick:function(){f([]),K("Press two different Points on the map then adjust"),G(!Y),setTimeout((function(){K("")}),1e4)},children:"Draw Polyline"}),Object(o.jsx)("span",{onClick:function(){window.location.reload()},children:"Refresh Map"})]})]})})),m={position:"absolute",height:"100%",width:"100%",top:0,zIndex:"0"},v=function(){var e=p(O,b),t=Object(l.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(n.apiKey),s=Object(l.a)(c,2),r=s[0],u=s[1];return Object(a.useEffect)((function(){console.log(n),null!=n.apiKey&&n.apiSet&&(d()(".myMap").css({filter:"blur(0px)"}),d()(".myApiKey").fadeOut())}),[]),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"layout",children:[Object(o.jsx)("div",{className:"delete",onClick:function(){i(h(null,!1)),window.location.reload()},children:"Delete API Key"}),Object(o.jsx)("div",{className:"myMap",children:Object(o.jsx)(y,{style:m,apiKey:r})}),Object(o.jsxs)("div",{className:"myApiKey",children:[Object(o.jsx)("input",{placeholder:"Your Google API Key...",value:r,type:"password",onChange:function(e){console.log(e.target.value),u(e.target.value)}}),Object(o.jsx)("span",{className:"accept",onClick:function(){""==r&&null==r||(i(h(r,!0)),window.location.reload())},children:"Proceed"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Enable Directions API"}),Object(o.jsx)("li",{children:"Enable Distance Matrix API"}),Object(o.jsx)("li",{children:"Enable Maps Javascript API"})]}),Object(o.jsx)("span",{className:"info",children:"If the key is wrong the map will not be displayed. The API Key will be stored in your browser for future visits. To delete it,clear this site's data and cookies"})]})]})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),o(e),a(e),i(e),c(e)}))};s.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(v,{})}),document.getElementById("root")),x()}},[[37,1,2]]]);
//# sourceMappingURL=main.9024980c.chunk.js.map